<div *ngIf="showNotification" class="custom-toast">
  ✅ Thêm sản phẩm thành công
</div>
<div class="modal fade" id="addProductModal" tabindex="-1" aria-labelledby="addProductModalLabel" aria-hidden="true" [class.show]="modalOpen"  [style.display]="modalOpen ? 'block' : 'none'">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="addProductModalLabel">Thêm sản phẩm mới</h5>
          <button type="button" class="close" (click)="closeModal()" aria-label="Close">
  <span aria-hidden="true">&times;</span>
</button>
        </div>
        <div class="modal-body">
          <form (ngSubmit)="onSubmit()" #productForm="ngForm">
            <div class="form-group">
              <label for="name">Tên sản phẩm</label>
              <input type="text" class="form-control" id="name" required [(ngModel)]="name" name="name" #nameField="ngModel">
              <div *ngIf="nameField.invalid && nameField.touched" class="text-danger">Tên sản phẩm là bắt buộc</div>
            </div>
            <div class="form-group">
              <label for="price">Giá sản phẩm</label>
              <input type="number" class="form-control" id="price" required [(ngModel)]="price" name="price" #priceField="ngModel">
              <div *ngIf="priceField.invalid && priceField.touched" class="text-danger">Giá sản phẩm là bắt buộc</div>
            </div>
            <div class="form-group">
              <label for="unit">Đơn vị tính</label>
              <input type="text" class="form-control" id="unit" required [(ngModel)]="unit" name="unit">
            
            </div>
            
            <div class="form-group">
              <label for="images">Hình ảnh</label>
            <input type="file" class="form-control" id="images" (change)="onFileSelected($event)"> 
            </div>
            <div class="form-group">
              <label for="date">Ngày sản xuất</label>
              <input type="date" class="form-control" id="date" required [(ngModel)]="date" name="manufactureDate">
            </div>
            
            <div class="form-group">
              <label for="expiryDate">Ngày hết hạn</label>
              <input type="date" class="form-control" id="expiryDate" required [(ngModel)]="expiryDate" name="expiryDate">
            </div>
            <div class="form-group">
              <label for="thanhPhan">Thành phần</label>
              <input type="text" class="form-control" id="thanhPhan" required [(ngModel)]="thanhPhan" name="thanhPhan">
            </div>
            <div class="form-group">
              <label for="huongDanSuDung">Hướng dẫn sử dụng</label>
              <input type="text" class="form-control" id="huongDanSuDung" required [(ngModel)]="huongDanSuDung" name="huongDanSuDung">
            </div>
            <div class="form-group">
              <label for="description">Mô tả</label>
              <input type="text" class="form-control" id="description" required [(ngModel)]="description" name="description">
            </div>
            
            <div class="form-group">
              <label for="categoryId">Danh mục</label>
              <select class="form-control" [(ngModel)]="selectedCategoryId" name="categoryId" #categoryField="ngModel">
                <option *ngFor="let category of categories" [value]="category.id" >{{ category.name }}</option>
              </select>
              <div *ngIf="categoryField.invalid && categoryField.touched" class="text-danger">Danh mục là bắt buộc</div>
  
            </div>
            <div class="form-group">
              <label for="promotionId">Khuyến mãi</label>
              
              <select class="form-control" [(ngModel)]="selectedPromotionId" name="promotionId">
                <option *ngFor="let promotion of promotions" [value]="promotion.id" >{{ promotion.name }} ({{promotion.percent}}%)<p></p></option>
              </select>
            </div>
            <div class="form-group">
              <label for="manufacturerId">Nhà sản xuất</label>
              <select class="form-control" [(ngModel)]="selectedManufacturerId" name="manufacturerId">
                <option *ngFor="let manufacturer of manufacturers" [value]="manufacturer.id" >{{ manufacturer.tenNhaSX }}</option>
              </select>
  
            </div>
            
            <div class="mt-2">
            <button type="submit" class="btn btn-primary" [disabled]="productForm.invalid">Lưu</button>
            <button type="button" class="btn btn-secondary ms-2" (click)="closeModal()">Đóng</button>
          </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  
  
  

   